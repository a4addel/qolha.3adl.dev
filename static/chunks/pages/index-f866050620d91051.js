(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9573:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6030)}])},6030:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(2086),a=s(49),i=s(3236),r=s(6910),l=s(6703),d=s(6409),c=s(8683),o=s.n(c),u=s(2596);function x(){let e=u.d.search.searchWord.useQuery(),t=(0,i.useState)("");return console.log(e.data),(0,n.jsxs)("div",{className:"w-full h-screen",children:[(0,n.jsx)("span",{className:"block w-full h-1/5",children:(0,n.jsx)("h1",{className:"text-5xl text-center justify-middle",children:"Qolha"})}),(0,n.jsx)(d.B,{intent:"primary",className:"text-middle",onChange:e=>t[1](e.target.value),value:t[0]}),(0,n.jsxs)("p",{children:["Found ",e.data?.length," words"]}),(0,n.jsx)(n.Fragment,{children:(e.data||[]).map(e=>(0,n.jsx)(o(),{className:"block",href:`/word/${e.id}`,children:e.ar},e.id))})]})}function h(){return(0,n.jsxs)(a.Z,{className:"flex flex-col",children:[(0,n.jsx)(r.Z,{isSearch:!0}),(0,n.jsx)(l.Z,{children:(0,n.jsx)(x,{})})]})}},6703:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var n=s(2086);function a(e){return(0,n.jsx)("div",{className:"block mx-auto w-full max-w-4xl px-4 py-2",children:e.children})}},6910:function(e,t,s){"use strict";s.d(t,{Z:function(){return S}});var n=s(2086),a=s(1230),i=s(7213),r=s(3236),l=s(6031),d=s(8778),c=s(2214),o=s(8683),u=s.n(o),x=s(8156),h=s(199),m=s(5614),j=s(6347),f=s(1497),p=s(7933),w=s(6090),N=s.n(w);function g(e){let{onFinish:t,disabled:s}=e,a=(0,r.useState)(""),i=N()({recordScreen:!1,mediaStreamConstraints:{audio:!0,video:!1},onStop:e=>{let s=URL.createObjectURL(e);a[1](s),t(e,s)}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.i,{role:"alert"}),(0,n.jsxs)(j.h,{className:"w-full flex justify-around",children:[(0,n.jsx)(c.z,{className:"w-1/2",icon:["recording","paused"].includes(i.status)?(0,n.jsxs)("span",{className:"relative flex h-3 w-3",children:[(0,n.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),(0,n.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}):"record",disabled:s,onClick:()=>["recording","paused"].includes(i.status)?i.stopRecording():i.startRecording(),title:["recording","paused"].includes(i.status)?"Record":"Stop_",text:["recording","paused"].includes(i.status)?"Stop_":"Record"}),(0,n.jsx)(f.i,{}),(0,n.jsx)(c.z,{className:"w-1/2",disabled:s,onClick:()=>"paused"===i.status?i.resumeRecording():i.pauseRecording(),title:"paused"===i.status?"Resume":"Pause ",text:"paused"===i.status?"Resume":"Pause "})]}),(0,n.jsx)(f.i,{role:"alert"}),(0,n.jsx)(m.U,{intent:"primary",icon:"record",className:"text-center",title:i.status}),(0,n.jsx)(f.i,{role:"alert"}),(0,n.jsx)("audio",{src:a[0],controls:!0}),(0,n.jsx)(f.i,{role:"alert"})]})}var C=s(2596),b=s(8594);function y(){let[e,t]=(0,r.useState)(!1),[s,a]=(0,r.useState)(null),[i,l]=(0,r.useState)(null),d=C.d.word.getWordThatNeedsClips.useQuery(),[o,u]=(0,b.ZP)({method:"POST",withCredentials:!0,url:`/api/clip/insert?wordId=${d?.data&&d?.data?.id}`,headers:{"Content-Type":"multipart/form-data"}},{manual:!0}),w=C.d.word.deleteWord.useMutation();async function N(){if(s?.size===0||!s)return;let e=new FormData;e.append("clip",s),await u({data:e}),a(null),l(null),d.refetch()}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.z,{title:"open",text:"open",onClick:()=>t(!0)}),(0,n.jsxs)(x.V,{isOpen:e,title:"Contribute a Clip",icon:"info-sign",isCloseButtonShown:!0,onClose:()=>t(!1),children:[(0,n.jsxs)(h.a,{children:[(0,n.jsxs)("div",{className:"flex flex-col max-w-xs border p-2 mx-auto",children:[(0,n.jsx)(m.U,{icon:"new-text-box",intent:"primary",title:d.data?.ar}),(0,n.jsx)(g,{disabled:!d.data?.ar,onFinish:function(e,t){a(e),l(t)}}),(0,n.jsxs)(j.h,{nonce:"",children:[(0,n.jsx)(c.z,{className:"w-1/2",intent:"primary",icon:"send-to",title:"send",text:"send",onClick:async()=>{await N(),d.refetch()}}),(0,n.jsx)(f.i,{}),(0,n.jsx)(c.z,{className:"w-1/2",intent:"danger",icon:"delete",title:"delete",text:"delete",onClick:async()=>{d?.data?.id&&(await w.mutateAsync({wordId:d?.data?.id}),d.refetch())}})]})]})," "]}),(0,n.jsx)(p.c,{actions:(0,n.jsx)(c.z,{onClick:()=>t(!1),intent:"primary",text:"Close"})})]})]})}function S(e){let{isSearch:t}=e;(0,a.useSession)(),(0,i.useRouter)();let[s,o]=(0,r.useState)(!1);return(0,n.jsx)(l.w,{children:(0,n.jsxs)(l.w.Group,{align:d.v.LEFT,children:[(0,n.jsx)(l.w.Heading,{children:"Qolha"}),(0,n.jsx)(l.w.Divider,{}),(0,n.jsx)(u(),{href:"/",children:(0,n.jsx)(c.z,{className:"bp5-minimal",icon:"home",text:"Home"})}),(0,n.jsx)(u(),{href:"/word/add",children:(0,n.jsx)(c.z,{className:"bp5-minimal",icon:"add-column-right",text:"add word"})}),(0,n.jsx)(y,{})]})})}}},function(e){e.O(0,[43,695,774,888,179],function(){return e(e.s=9573)}),_N_E=e.O()}]);